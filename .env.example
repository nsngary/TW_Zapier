# ===========================================
# 台灣在地化流程自動化平台 - 環境變數配置
# ===========================================

# 應用程式基本設定
APP_NAME="TW Zapier"
APP_VERSION="1.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG=true

# 資料庫設定
DATABASE_URL="postgresql://tw_zapier:password@localhost:5432/tw_zapier_db"
DATABASE_HOST="localhost"
DATABASE_PORT=5432
DATABASE_NAME="tw_zapier_db"
DATABASE_USER="tw_zapier"
DATABASE_PASSWORD="password"

# Redis 設定 (用於快取和任務佇列)
REDIS_URL="redis://localhost:6379/0"
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=""

# JWT 認證設定
JWT_SECRET_KEY="your-super-secret-jwt-key-change-this-in-production"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# FastAPI 後端設定
BACKEND_HOST="0.0.0.0"
BACKEND_PORT=8000
BACKEND_RELOAD=true
CORS_ORIGINS="http://localhost:3000,http://127.0.0.1:3000"

# Vue 前端設定
FRONTEND_HOST="0.0.0.0"
FRONTEND_PORT=3000
VITE_API_BASE_URL="http://localhost:8000"

# n8n 工作流引擎設定
N8N_HOST="localhost"
N8N_PORT=5678
N8N_PROTOCOL="http"
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER="admin"
N8N_BASIC_AUTH_PASSWORD="admin123"
N8N_WEBHOOK_URL="http://localhost:5678"

# ===========================================
# 台灣在地服務 API 設定
# ===========================================

# Line Pay API 設定
LINE_PAY_CHANNEL_ID="your_line_pay_channel_id"
LINE_PAY_CHANNEL_SECRET="your_line_pay_channel_secret"
LINE_PAY_SANDBOX=true  # 開發環境使用沙盒
LINE_PAY_API_URL="https://sandbox-api-pay.line.me"

# 綠界科技 ECPay API 設定
ECPAY_MERCHANT_ID="your_ecpay_merchant_id"
ECPAY_HASH_KEY="your_ecpay_hash_key"
ECPAY_HASH_IV="your_ecpay_hash_iv"
ECPAY_SANDBOX=true  # 開發環境使用測試模式
ECPAY_API_URL="https://payment-stage.ecpay.com.tw"

# 桃園機場 API 設定
TAOYUAN_AIRPORT_API_KEY="your_taoyuan_airport_api_key"
TAOYUAN_AIRPORT_API_URL="https://www.taoyuan-airport.com/api"

# 政府開放資料平台設定
GOV_OPENDATA_API_KEY="your_gov_opendata_api_key"
GOV_OPENDATA_BASE_URL="https://data.gov.tw/api/v1"

# ===========================================
# 監控和日誌設定
# ===========================================

# Prometheus 監控設定
PROMETHEUS_HOST="localhost"
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME="15d"

# Grafana 儀表板設定
GRAFANA_HOST="localhost"
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER="admin"
GRAFANA_ADMIN_PASSWORD="admin123"

# 日誌設定
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT="json"  # json, text
LOG_FILE_PATH="logs/app.log"
LOG_MAX_SIZE="10MB"
LOG_BACKUP_COUNT=5

# ===========================================
# 通知和告警設定
# ===========================================

# Email 通知設定
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your_email@gmail.com"
SMTP_PASSWORD="your_app_password"
SMTP_TLS=true
EMAIL_FROM="noreply@tw-zapier.com"

# Line Notify 設定 (用於系統告警)
LINE_NOTIFY_TOKEN="your_line_notify_token"

# Slack 通知設定 (可選)
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"

# ===========================================
# 安全性設定
# ===========================================

# API 速率限制
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# 檔案上傳限制
MAX_UPLOAD_SIZE="10MB"
ALLOWED_FILE_TYPES="json,csv,txt"

# HTTPS 設定 (生產環境)
SSL_CERT_PATH="/path/to/ssl/cert.pem"
SSL_KEY_PATH="/path/to/ssl/key.pem"

# ===========================================
# 開發和測試設定
# ===========================================

# 測試資料庫
TEST_DATABASE_URL="postgresql://tw_zapier:password@localhost:5432/tw_zapier_test_db"

# 開發工具
ENABLE_SWAGGER_UI=true
ENABLE_REDOC=true
ENABLE_DEBUG_TOOLBAR=true

# 效能分析
ENABLE_PROFILING=false
PROFILING_OUTPUT_DIR="profiling/"
